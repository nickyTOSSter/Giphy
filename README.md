## **Giphy**

Giphy - это приложение для просмотра и скачинваия гифок к себе на телефон.

## **Ссылки**

[Документация](https://developers.giphy.com/explorer/?)

[Макет](https://www.figma.com/file/CFVmaTZ621FgTJHsr20sCG/Giphy-Quiz-(YP)?node-id=0%3A1&t=AyyunAewwqNoVniU-1)

## **Описание приложения**

-  Одностраничное приложение с возможностью просматривать случайные гифки и скачивать их к себе на телефон. 

## **Функциональные требования**

На экране должны отображаться следующие элементы: 
- Верхний стек, в котором содержится два UILabel — "Гифка:" и "Счетчик текущей гифки"
- Изображение гифки UIIMageView
- Нижний стек c двумя кнопками лайк и дизлайк
При нажатии на кнопкку лайка должен происходить переход для отображения следующей рандомной гифки, гифка скачивается к себе на устройство
При нажатии на кнопку дизлайка должен происходить переход для отображения следующей рандомной гифки

## **Технические требования**

- Приложение должно поддерживать устройства iPhone с iOS 13, предусмотрен только портретный режим.
- Элементы интерфейса адаптируются под разрешения экранов больших iPhone (13, 13 Pro Max) — верстка под SE и iPad не предусмотрена.
- Экраны соответствует макету — использованы верные шрифты нужных размеров, все надписи находятся на нужном месте, расположение всех элементов, размеры кнопок и отступы — точно такие же, как в макете.

## **Дополнительно**
Не стесняйтесь изменять или эксперементировать с структурой файлов и папок. Используется маттерн MVP
Так же приветствуется создание дополнительных фабрик и объектов при необходимости

## **MVP**
В моем понимании
- model - бизнес логика
- view - изменения в интерфейсе
- presenter - обработка событий их передача в модель, обработка изменений в модели их передача во view

## **Связь ViewController'a и presenter'a**
Поэксперементировал, убрал weak у делегата - получил утечку памяти.

Попытался сделать презентер во вью контроллере - получил предупреждение о немедленном уничтожении презентера.

Получается презентер слабой ссылкой сделать нельзя т.к. при его создании на него не будет других ссылок кроме этой слабой. Поэтому ARC посчитает раз нет сильных ссылок - удаляем. Поэтому - да, презентер должен быть сильной ссылкой.

Насколько я понимаю при добавлении презентера в контроллер, мы ожидаем, что он будет выброшен из памяти в тот момент когда "умрет" контроллер. И это и должно произойти, если бы у презентера делегатом не был контроллер. Поэтому мы его, контроллер, делаем слабой ссылкой. Приложение заканчивает работу - на контроллер ссылается слабая ссылка из презентера, и так как слабые ссылки не учитываются при подсчете происходит удаление контроллера и  в последствии презентера.

Вообще пока повторял тему с ARC понял, что не имею прозрачного понимания. Например есть два класса оба ссылаются друг на друга. Как понять какую ссылку делать слабой? Какой-то алгоритм принятия этого решения существует или просто бахаем куда попало и радуемся?

Наприм
Вообще пока повторял тему с ARC понял, что не имею прозрачного понимания. Например есть два класса оба ссылаются друг на друга. Как понять какую ссылку делать слабой? Какой-то алгоритм принятия этого решения существует или просто бахаем куда попало и радуемся?

С контроллером презентером я как рассуждал:
- В приложении создается контроллер
- В контроллере создается презентер
- В презентере есть делегат, которому присваевается ссылка на тот контроллер из которого был создан презентер
- Очевидно что презентер имеет подчиненный характер по отношении к контроллеру, значит презентер должен удалиться из памяти при удалении контроллера
- Значит, избегаем утечки путем слабой ссылки на контроллер в презентере

Вот, а как действовать при ситуации когда однозначно установить какой из классов является подчиненным?
